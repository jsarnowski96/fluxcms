<app-nav-menu></app-nav-menu>
<div *ngIf="myAuthority==2" class="row justify-content-center">
  <div class="col-md-8">
    <div class="card">
      <div class="card-header">{{'nav.addPost.title'|translate}}</div>
      <div class="card-body">
        <form id="postForm" #postForm="ngForm" [formGroup]="postFG">
          <div class="form-group">
            <label for="name">{{'nav.addPost.postSubject'|translate}}</label>
            <input type="text" formControlName="formTitle" #title id="title" name="title" class="form-control" required minlength="5">
            <div *ngIf="formTitle.invalid && (formTitle.dirty || formTitle.touched)" class="alert alert-danger">
              <div *ngIf="formTitle.errors.required">
                Tytuł posta nie może być pusty.
              </div>
              <div *ngIf="formTitle.errors.minlength">
                Tytuł posta musi mieć co najmniej 5 znaków.
              </div>
            </div>
          </div>
          <div class="form-group">
            <label for="message">{{'nav.addPost.message'|translate}}</label>
            <textarea formControlName="formbody" #body id="body" name="body" class="form-control" rows="5" required minlength="25"></textarea>
            <div *ngIf="formbody.invalid && (formbody.dirty || formbody.touched)" class="alert alert-danger">
              <div *ngIf="formbody.errors.required">
                Post musi zawierać treść.
              </div>
              <div *ngIf="formbody.errors.minlength">
                Treść posta musi mieć co najmniej 25 znaków.
              </div>
            </div>
          </div>
          <div class="form-group">
            <label for="text">{{'nav.addPost.tags'|translate}}</label>
            <input type="text" formControlName="formTags" #tags id="tags" name="tags" class="form-control" required minlength="2" />
            <div *ngIf="formTags.invalid && (formTags.dirty || formTags.touched)" class="alert alert-danger">
              <div *ngIf="formTags.errors.required">
                Post musi zawierać przynajmniej jeden tag.
              </div>
              <div *ngIf="formTags.errors.minlength">
                Tag musi składać się co najmniej z 2 znaków.
              </div>
            </div>
          </div>
          <button (click)="addNewPost(postForm.form)" type="submit" class="btn btn-primary">{{'nav.addPost.publish'|translate}}</button>&nbsp;
          <button type="button" class="btn btn-success" onclick="$('#postForm')[0].reset();">{{'nav.addPost.clear'|translate}}</button>
        </form>
      </div>
    </div>
  </div>
</div>
